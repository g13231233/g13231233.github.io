<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金牌牌之战 - 新版2.0</title>
    <link rel="icon" href="https://edgeone.51shazhu.com/autoupload/f/k4zK2BJMRKUXUnTNX4Y-QCS3KfaCE5Cavg_pXZI7poyyl5f0KlZfm6UsKj-HyTuv/20251009/4gsq/256X256/favicon.ico" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6C5CE7',
                        secondary: '#FD79A8',
                        dark: '#2D3436',
                        light: '#F8F9FA',
                        silver: '#C0C0C0',
                        gold: '#FFD700',
                        // 传说级卡牌紫色系
                        legend1: '#8A2BE2',
                        legend2: '#9370DB',
                        legend3: '#BA55D3',
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            /* 传说级卡牌紫色渐变文字 - 静态不闪动 */
            .text-legend {
                background-image: linear-gradient(90deg, theme('colors.legend1'), theme('colors.legend2'), theme('colors.legend3'));
                background-clip: text;
                -webkit-background-clip: text;
                color: transparent;
            }
            
            /* 传说级卡牌紫色渐变背景 */
            .bg-legend-gradient {
                background-image: linear-gradient(90deg, theme('colors.legend1'), theme('colors.legend2'), theme('colors.legend3'));
            }
            
            /* 导航栏激活状态 */
            .nav-active {
                color: theme('colors.secondary');
                transform: translateY(0px);
            }
            
            /* 底部导航栏固定 */
            .bottom-nav {
                backdrop-filter: blur(8px);
                -webkit-backdrop-filter: blur(8px);
            }
            
            /* 卡牌容器样式 - 竖向排列 */
            .card-container {
                display: flex;
                flex-direction: column;
                gap: 0.75rem;
                width: 100%;
                max-width: 90%; /* 与槽位宽度保持一致 */
            }
            
            /* 横向加长的单张卡牌样式 */
            .single-card {
                width: 100%;
                height: 90px;
                transition: transform 0.2s ease;
            }
            
            .single-card:hover {
                transform: scale(1.01);
            }
            
            /* 空槽位样式 */
            .card-slot {
                width: 100%;
                height: 90px;
                border: 2px dashed rgba(108, 92, 231, 0.5);
                border-radius: 0.75rem;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                transition: all 0.3s ease;
                background-color: rgba(45, 52, 54, 0.3);
            }
            
            .card-slot:hover {
                border-color: rgba(108, 92, 231, 0.8);
                background-color: rgba(45, 52, 54, 0.5);
            }
        }
    </style>
</head>
<body class="font-inter bg-gradient-to-br from-dark to-gray-800 text-light min-h-screen flex flex-col">
    <!-- 页面容器 -->
    <div class="flex-1 relative overflow-hidden">
        <!-- 页面内容区域 -->
        <div class="container mx-auto px-4 py-4 h-full flex flex-col items-center justify-between">
            <!-- 顶部标题 -->
            <header class="w-full text-center py-3 mb-4">
                <h1 class="text-[clamp(1.6rem,5vw,2.2rem)] font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary">
                    金牌牌之战2.0
                </h1>
            </header>
            
            <!-- 主内容区 - 卡牌展示 -->
            <main class="w-full flex flex-col items-center justify-center flex-grow">
                <!-- 卡牌显示区域 - 竖向排列的四个槽位 -->
                <div id="card-container" class="card-container">
                    <!-- 四个空槽位将在这里动态生成 -->
                </div>
            </main>
        </div>
    </div>
    
    <!-- 底部导航栏 -->
    <nav class="bottom-nav bg-dark/70 border-t border-gray-800 py-2 px-4 fixed bottom-0 left-0 right-0 z-30">
        <div class="flex justify-around items-center">
            <a href="#" class="nav-item flex flex-col items-center py-1 text-sm text-gray-400" data-page="instructions">
                <i class="fa fa-book text-xl mb-1"></i>
                <span>玩法说明</span>
            </a>
            <a href="#" class="nav-item flex flex-col items-center py-1 text-sm text-gray-400" data-page="ranking">
                <i class="fa fa-trophy text-xl mb-1"></i>
                <span>积分排行</span>
            </a>
            <a href="#" class="nav-item flex flex-col items-center py-1 text-sm nav-active" data-page="home">
                <i class="fa fa-home text-xl mb-1"></i>
                <span>游戏主页</span>
            </a>
            <a href="#" class="nav-item flex flex-col items-center py-1 text-sm text-gray-400" data-page="other-games">
                <i class="fa fa-gamepad text-xl mb-1"></i>
                <span>其他游戏</span>
            </a>
            <a href="#" class="nav-item flex flex-col items-center py-1 text-sm text-gray-400" data-page="donate">
                <i class="fa fa-heart text-xl mb-1"></i>
                <span>赞助作者</span>
            </a>
        </div>
    </nav>
    
    <!-- 其他页面内容 (默认隐藏) -->
    <div id="pages-container" class="fixed inset-0 bg-dark z-40 transform translate-y-full transition-transform duration-300 ease-in-out">
        <!-- 积分排行页面 -->
        <div id="ranking-page" class="page h-full overflow-y-auto p-6 hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">积分排行</h2>
                <button class="close-page text-gray-400 hover:text-white">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div class="space-y-4">
                <!-- 排行榜项 -->
                <div class="bg-gray-800 rounded-lg p-4 flex items-center">
                    <div class="w-8 h-8 bg-secondary rounded-full flex items-center justify-center font-bold mr-4">1</div>
                    <img src="https://z.wiki/u/QxQU3N" alt="用户头像" class="w-10 h-10 rounded-full mr-4">
                    <div class="flex-1">
                        <h3 class="font-bold">迎冬</h3>
                        <p class="text-sm text-gray-400">积分数量：【1660】</p>
                    </div>
                    <i class="fa fa-crown text-gold text-xl"></i>
                </div>
                <!-- 更多排行榜项 -->
                <div class="bg-gray-800 rounded-lg p-4 flex items-center">
                    <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center font-bold mr-4">2</div>
                    <img src="https://picsum.photos/id/2/40/40" alt="用户头像" class="w-10 h-10 rounded-full mr-4">
                    <div class="flex-1">
                        <h3 class="font-bold">洋洋</h3>
                        <p class="text-sm text-gray-400">积分数量：【915】</p>
                    </div>
                </div>
                <div class="bg-gray-800 rounded-lg p-4 flex items-center">
                    <div class="w-8 h-8 bg-amber-700 rounded-full flex items-center justify-center font-bold mr-4">3</div>
                    <img src="https://picsum.photos/id/3/40/40" alt="用户头像" class="w-10 h-10 rounded-full mr-4">
                    <div class="flex-1">
                        <h3 class="font-bold">金杰</h3>
                        <p class="text-sm text-gray-400">积分数量：【665】</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 玩法说明页面 -->
        <div id="instructions-page" class="page h-full overflow-y-auto p-6 hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">玩法说明</h2>
                <button class="close-page text-gray-400 hover:text-white">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div class="space-y-4 text-gray-300">
                <p>1. 按照名次点击空槽位启用海克斯，每个槽位只能点一次。</p>
                <p>2. 打完一局牌后，如需重置海克斯，请刷新浏览器页面。</p>
                <p>3. 海克斯分为三种稀有度：</p>
                <ul class="list-disc pl-6 space-y-2 mt-2">
                    <li><span class="text-silver">银色</span> - 白银卡</li>
                    <li><span class="text-gold">金色</span> - 黄金卡</li>
                    <li><span class="text-legend">紫色</span> - 棱彩卡</li>
                </ul>
                <p>4.出牌规则</p>
                <p>
            1.玩家人数3-4人，用一充扑克牌就足够<p>
            2.顺子最少三张，连对最少两对，炸弹最低三张或三张以上的牌<p>
            3.大小王两张一起出可以当作王炸出，也可以把它当作任意一张牌出<p>
            4.花费50积分重置全部玩家海克斯，不能三带一三带二咱不斗地主<p>
            5.第一名加20积分，第二名加10，第三名加5，第四名没积分<p>
            6.如果你有好的建议和想法可以发给官方客服QQ：1109987551<p>
            7.或者直接把你的想法发送到官方邮箱：1109987551@qq.com<p>
                </p>
            </div>
        </div>
        
        <!-- 其他游戏页面 -->
        <div id="other-games-page" class="page h-full overflow-y-auto p-6 hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">其他游戏</h2>
                <button class="close-page text-gray-400 hover:text-white">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div class="grid grid-cols-2 gap-4">
                <!-- 游戏卡片 -->
                <div class="bg-gray-800 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow">
                    <img src="https://picsum.photos/id/20/300/150" alt="游戏封面" class="w-full h-32 object-cover">
                    <div class="p-3">
                        <h3 class="font-bold">迷宫探险</h3>
                        <p class="text-xs text-gray-400 mt-1">角色扮演 • 冒险</p>
                    </div>
                </div>
                <div class="bg-gray-800 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow">
                    <img src="https://picsum.photos/id/21/300/150" alt="游戏封面" class="w-full h-32 object-cover">
                    <div class="p-3">
                        <h3 class="font-bold">星际战舰</h3>
                        <p class="text-xs text-gray-400 mt-1">策略 • 科幻</p>
                    </div>
                </div>
                <div class="bg-gray-800 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow">
                    <img src="https://picsum.photos/id/22/300/150" alt="游戏封面" class="w-full h-32 object-cover">
                    <div class="p-3">
                        <h3 class="font-bold">宝石消除</h3>
                        <p class="text-xs text-gray-400 mt-1">休闲 • 益智</p>
                    </div>
                </div>
                <div class="bg-gray-800 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow">
                    <img src="https://picsum.photos/id/23/300/150" alt="游戏封面" class="w-full h-32 object-cover">
                    <div class="p-3">
                        <h3 class="font-bold">赛车传奇</h3>
                        <p class="text-xs text-gray-400 mt-1">竞速 • 体育</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 赞助作者页面 - 只保留二维码 -->
        <div id="donate-page" class="page h-full overflow-y-auto p-6 hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">赞助作者</h2>
                <button class="close-page text-gray-400 hover:text-white">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="text-center mb-8">
                <img src="https://z.wiki/u/sMjdXF" alt="作者头像" class="w-24 h-24 rounded-full mx-auto mb-4 border-2 border-primary">
                <h3 class="text-xl font-bold">游戏开发者</h3>
                <p class="text-gray-400 mt-2">感谢您的支持，您的赞助将帮助我们开发更多有趣的游戏，每赞助1元积分+1000</p>
            </div>
            
            <!-- 二维码区域 -->
            <div class="bg-gray-800/50 rounded-xl p-6 text-center mb-8 border border-gray-700">
                <h4 class="text-lg font-semibold mb-4">扫码赞助</h4>
                <div class="bg-white p-4 inline-block rounded-lg mb-4">
                    <img src="https://z.wiki/u/F9n21A" alt="赞助二维码" class="w-48 h-48 object-cover">
                </div>
                <p class="text-sm text-gray-400">扫描上方二维码支持开发者</p>
            </div>
        </div>
    </div>

    <script>
        // 最大卡牌数量
        const MAX_CARDS = 4;
        // 存储已抽取的卡牌状态
        let drawnCards = new Array(MAX_CARDS).fill(null);
        
        // 卡牌数据
        const cards = [
            // 银色普通卡牌
            { name: "勇气之刃", description: "增加10点攻击力，普通攻击有5%几率造成双倍伤害，新手冒险者的标准配备", rarity: "silver" },
            { name: "守护之盾", description: "增加15点防御力，受到攻击时有10%几率减免20%伤害，有效抵御低级怪物", rarity: "silver" },
            { name: "敏捷之靴", description: "提高10%闪避率，移动速度增加20%，让你在战斗中更加灵活", rarity: "silver" },
            { name: "智慧法杖", description: "增加8点法术强度，施法消耗降低5%，适合初学魔法的法师使用", rarity: "silver" },
            { name: "生命项链", description: "增加50点生命值上限，每5秒恢复2点生命值，提供基础生存保障", rarity: "silver" },
            
            // 金色稀有卡牌
            { name: "王者之剑", description: "增加30点攻击力，普通攻击有20%几率造成双倍伤害，剑身镶嵌珍贵宝石", rarity: "gold" },
            { name: "龙鳞护盾", description: "增加40点防御力，受到攻击时有30%几率减免30%伤害，由龙鳞锻造而成", rarity: "gold" },
            { name: "疾风之靴", description: "提高25%闪避率，移动速度增加50%，让你如风一般穿梭于战场", rarity: "gold" },
            { name: "元素法杖", description: "增加25点法术强度，施法消耗降低20%，能引导自然界的元素力量", rarity: "gold" },
            { name: "永生项链", description: "增加150点生命值上限，每3秒恢复5点生命值，蕴含生命魔法", rarity: "gold" },
            
            // 紫色传说卡牌
            { name: "神谕圣剑", description: "增加80点攻击力，普通攻击必定暴击，10%几率秒杀普通敌人，传说由神明铸造", rarity: "legend" },
            { name: "虚空之盾", description: "增加100点防御力，50%几率完全格挡伤害，能吸收任何形式的攻击", rarity: "legend" },
            { name: "时空之靴", description: "提高50%闪避率，可短距离闪现(冷却30秒)，能扭曲周围时空", rarity: "legend" },
            { name: "宇宙法杖", description: "增加60点法术强度，所有法术效果提升50%，施法无消耗，蕴含宇宙奥秘", rarity: "legend" },
            { name: "凤凰项链", description: "生命值上限翻倍，死亡后可自动复活(冷却5分钟)，寄宿凤凰灵魂", rarity: "legend" }
        ];
        
        // DOM元素
        const cardContainer = document.getElementById('card-container');
        const navItems = document.querySelectorAll('.nav-item');
        const pagesContainer = document.getElementById('pages-container');
        const pages = document.querySelectorAll('.page');
        const closeButtons = document.querySelectorAll('.close-page');
        
        // 初始化四个空槽位
        function initializeSlots() {
            cardContainer.innerHTML = '';
            
            for (let i = 0; i < MAX_CARDS; i++) {
                const slot = document.createElement('div');
                slot.className = 'card-slot';
                slot.dataset.index = i;
                
                // 如果已经抽取了卡牌，显示卡牌，否则显示"点击抽卡"
                if (drawnCards[i]) {
                    slot.innerHTML = createCardHtml(drawnCards[i]);
                    slot.classList.remove('card-slot');
                    slot.classList.add('single-card');
                } else {
                    slot.innerHTML = `
                        <div class="text-center">
                            <i class="fa fa-plus-circle text-primary mb-1"></i>
                            <p class="text-sm text-gray-300">点击抽卡</p>
                        </div>
                    `;
                    
                    // 添加点击事件
                    slot.addEventListener('click', () => drawCard(i));
                }
                
                cardContainer.appendChild(slot);
            }
        }
        
        // 随机抽取一张卡牌
        function drawRandomCard() {
            // 根据稀有度设置概率
            const random = Math.random();
            let cardPool;
            
            if (random < 0.7) { // 70% 概率银色
                cardPool = cards.filter(card => card.rarity === 'silver');
            } else if (random < 0.95) { // 25% 概率金色
                cardPool = cards.filter(card => card.rarity === 'gold');
            } else { // 5% 概率传说
                cardPool = cards.filter(card => card.rarity === 'legend');
            }
            
            // 从选中的卡池中随机选择一张
            const randomIndex = Math.floor(Math.random() * cardPool.length);
            return cardPool[randomIndex];
        }
        
        // 抽取卡牌并填充到指定槽位
        function drawCard(index) {
            // 防止重复抽卡
            if (drawnCards[index]) return;
            
            // 抽取卡牌
            const newCard = drawRandomCard();
            drawnCards[index] = newCard;
            
            // 更新界面
            initializeSlots();
        }
        
        // 创建卡牌HTML
        function createCardHtml(card) {
            return `
                <div class="w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl shadow-2xl border border-gray-700 flex flex-col overflow-hidden">
                    <div class="h-1.5 ${card.rarity === 'silver' ? 'bg-silver' : card.rarity === 'gold' ? 'bg-gold' : 'bg-legend-gradient'}"></div>
                    <div class="p-3 md:p-4 flex-1 flex flex-col">
                        <div class="flex justify-between items-start mb-1">
                            <h3 class="text-base font-bold ${card.rarity === 'silver' ? 'text-silver' : card.rarity === 'gold' ? 'text-gold' : 'text-legend'}">${card.name}</h3>
                            <span class="text-xs px-2 py-0.5 rounded-full ${
                                card.rarity === 'silver' ? 'bg-silver/20 text-silver' : 
                                card.rarity === 'gold' ? 'bg-gold/20 text-gold' : 
                                'bg-gradient-to-r from-legend1/20 via-legend2/20 to-legend3/20 text-legend'
                            }">
                                ${card.rarity === 'silver' ? '普通' : card.rarity === 'gold' ? '稀有' : '传说'}
                            </span>
                        </div>
                        <p class="text-gray-300 text-sm flex-1 leading-relaxed">${card.description}</p>
                    </div>
                </div>
            `;
        }
        
        // 导航栏切换
        navItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                
                // 如果点击的是当前活跃项且不是主页，则关闭页面
                if (item.classList.contains('nav-active') && item.dataset.page !== 'home') {
                    closePage();
                    return;
                }
                
                // 移除所有活跃状态
                navItems.forEach(nav => {
                    nav.classList.remove('nav-active', 'text-white');
                    nav.classList.add('text-gray-400');
                });
                
                // 设置当前项为活跃状态
                item.classList.add('nav-active', 'text-white');
                item.classList.remove('text-gray-400');
                
                // 如果点击的是主页，关闭其他页面
                if (item.dataset.page === 'home') {
                    closePage();
                    return;
                }
                
                // 显示对应的页面
                showPage(item.dataset.page);
            });
        });
        
        // 显示指定页面
        function showPage(pageId) {
            // 隐藏所有页面
            pages.forEach(page => page.classList.add('hidden'));
            
            // 显示目标页面
            const targetPage = document.getElementById(`${pageId}-page`);
            if (targetPage) {
                targetPage.classList.remove('hidden');
                // 显示页面容器
                pagesContainer.classList.remove('translate-y-full');
            }
        }
        
        // 关闭页面
        function closePage() {
            pagesContainer.classList.add('translate-y-full');
            
            // 重置导航栏状态，设置主页为活跃
            navItems.forEach(nav => {
                nav.classList.remove('nav-active', 'text-white');
                nav.classList.add('text-gray-400');
            });
            const homeNav = document.querySelector('[data-page="home"]');
            if (homeNav) {
                homeNav.classList.add('nav-active', 'text-white');
                homeNav.classList.remove('text-gray-400');
            }
        }
        
        // 关闭按钮事件
        closeButtons.forEach(button => {
            button.addEventListener('click', closePage);
        });
        
        // 防止页面切换时的事件冒泡
        pagesContainer.addEventListener('click', (e) => {
            if (e.target === pagesContainer) {
                closePage();
            }
        });
        
        // 初始化页面
        initializeSlots();
    </script>
</body>
</html>
    
